/**
 * ys-rekaf - Rekaf a fake select element
 * @version v0.7.2
 * @link http://youngskilled.com
 * @author richard@youngskilled.com Young/Skilled
 * @license MIT
 */
!function(e){var t={init:function(){var e=this;t.enableEvents.apply(e),t.checkInputs.apply(e)},checkInputs:function(){var t=this,s=t.find("input:checked"),l=t.find("input:disabled"),i="";s.length>0&&(i=s.closest("li").text(),t.find("."+t.set.selectedClass).removeClass(t.set.selectedClass),s.closest("li").addClass(t.set.selectedClass),t.addClass(t.set.selectedClass).find("span").text(i),t.trigger("rekaf.selected",[i])),l.length>0&&l.each(function(){e(this).closest("li").addClass("disabled")})},openList:function(){var t=this;t.addClass("rekaf-opened").css("z-index",t.set.zIndex+2).find("ul").show(),e("#rekaf-screen").show()},closeList:function(){var t=this;e(".rekaf-opened").removeClass("rekaf-opened").css("z-index",t.set.zIndex).find("ul").hide(),e("#rekaf-screen").hide()},updateList:function(){var t=this,s="",l=t.data("textList")||[];t.find("li").each(function(){for(var s=e(this).text(),i=null,n=0;n<l.length;n++)if(s===l[n]){i=n;break}e(this).hasClass(t.set.selectedClass)?null===i&&(t.set.debug===!0&&console.log("textList, currentItem, inListAtIndex push item",l,s,i),l.push(s)):null!==i&&(t.set.debug===!0&&console.log("textList, currentItem, inListAtIndex splice item",l,s,i),l.splice(i,1))}),l.length>0?t.set.multiselect?(s=l.length>t.set.multiselectTitleLimit?l.length+t.set.multiselectTitleLimitText:l.join(t.set.delimiter),t.find("span").text(s),t.trigger("rekaf.selected",[l])):(t.find("span").text(l[0]),t.trigger("rekaf.selected",[l])):(t.find("span").text(t.find("span").data("orig-text")),t.trigger("rekaf.unselected",[l])),t.data("textList",l)},enableEvents:function(){var s=this;s.on("click","span",function(){s.hasClass("rekaf-opened")?t.closeList.apply(s):t.openList.apply(s)}),s.on("click","li",function(l){var i=e(this),n=s.data("textList")||[],a=i.hasClass(s.set.selectedClass);if(i.find("a").length>0&&s.set.preventLinks&&l.preventDefault(),!(i.find("."+s.set.disabledClass).length>0||i.hasClass(s.set.disabledClass))){if(i.find(".remove").length>0&&s.removeClass(s.set.selectedClass),s.set.multiselect===!0){if(i.hasClass("clear-select"))s.find("."+s.set.selectedClass).removeClass(s.set.selectedClass),n=[],text="";else{if(i.hasClass(s.set.selectedClass)){i.removeClass(s.set.selectedClass);for(var d=0;d<n.length;d++)if(n[d]===i.text()){n.splice(d,1);break}}else i.addClass(s.set.selectedClass),n.push(i.text());text=n.length>s.set.multiselectTitleLimit?n.length+s.set.multiselectTitleLimitText:n.join(s.set.delimiter)}n.length>0?(s.addClass(s.set.selectedClass).find("span").addClass(s.set.selectedClass).text(text),s.trigger("rekaf.selected",[text])):(s.removeClass(s.set.selectedClass).find("span").removeClass(s.set.selectedClass).text(s.find("span").data("orig-text")),s.trigger("rekaf.unselected",[text]))}else n[0]=i.text(),s.find("."+s.set.selectedClass).removeClass(s.set.selectedClass),a&&s.set.clickRemoveSelected?(s.removeClass(s.set.selectedClass).find("span").text(s.find("span").data("orig-text")),s.trigger("rekaf.unselected",[n])):(i.addClass(s.set.selectedClass),s.addClass(s.set.selectedClass).find("span").text(n[0]),s.trigger("rekaf.selected",[n]));s.data("textList",n),t.closeList.apply(s)}}),e("#rekaf-screen").on("click",function(){t.closeList.apply(s)})}},s={init:function(s){var i=e.extend({},l,s),n="";if(i.debug===!0){if(0===this.length)return void console.warn("No objects found for $.rekaf >>> Maybe not generated from JS yet?");n="background-color: blue; "}return 0===e("#rekaf-screen").length&&e("body").prepend('<div id="rekaf-screen" style="position: fixed; top: 0; left: 0; '+n+"width: 100%; height: 2000px; z-index: "+(i.zIndex+1)+'; display: none;"></div>'),this.each(function(){var s=e(this),l=s.data();s.set=e.extend({},i,l),s.set.debug===!0&&(console.warn(":::: YS Filter Debug has been set to true ::::"),console.log("Options -> ",s.set)),s.css({"z-index":s.set.zIndex,position:"relative"}),s.set.rekafIntiated?s.set.debug===!0&&console.warn(":::: You are re-running REKAF!!! It is only intended to be run once, try update. ::::"):t.init.apply(s),s.set.rekafIntiated=!0,s.data(s.set)})},open:function(s){var i=e.extend({},l,s);return this.each(function(){var s=e(this),l=s.data();s.set=e.extend({},i,l),t.openList.apply(s)})},update:function(s){var i=e.extend({},l,s);return this.each(function(){var s=e(this),l=s.data();s.set=e.extend({},i,l),t.updateList.apply(s)})}},l={zIndex:1500,mulitselect:!1,clickRemoveSelected:!1,disabledClass:"disabled",selectedClass:"selected",multiselectTitleLimit:4,multiselectTitleLimitText:" items selected",delimiter:", ",preventLinks:!0,debug:!1};e.fn.rekaf=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.rekaf"):s.init.apply(this,arguments)}}(jQuery,window);