/**
 * ys-rekaf - Rekaf a fake select element
 * @version v0.7.1
 * @link http://youngskilled.com
 * @author richard@youngskilled.com Young/Skilled
 * @license MIT
 */
!function(e){var t={init:function(){var e=this;t.enableEvents.apply(e),t.checkInputs.apply(e)},checkInputs:function(){var t=this,s=t.find("input:checked"),i=t.find("input:disabled"),n="";s.length>0&&(n=s.closest("li").text(),t.find(".selected").removeClass("selected"),s.closest("li").addClass("selected"),t.addClass("selected").find("span").text(n),t.trigger("rekaf.selected",[n])),i.length>0&&i.each(function(){e(this).closest("li").addClass("disabled")})},openList:function(){var t=this;t.addClass("rekaf-opened").css("z-index",t.set.zIndex+2).find("ul").show(),e("#rekaf-screen").show()},closeList:function(){var t=this;e(".rekaf-opened").removeClass("rekaf-opened").css("z-index",t.set.zIndex).find("ul").hide(),e("#rekaf-screen").hide()},updateList:function(){var t=this,s="",i=t.data("textList")||[];t.find("li").each(function(){for(var s=e(this).text(),n=null,l=0;l<i.length;l++)if(s===i[l]){n=l;break}e(this).hasClass("selected")?null===n&&(t.set.debug===!0&&console.log("textList, currentItem, inListAtIndex push item",i,s,n),i.push(s)):null!==n&&(t.set.debug===!0&&console.log("textList, currentItem, inListAtIndex splice item",i,s,n),i.splice(n,1))}),i.length>0?t.set.multiselect?(s=i.length>t.set.multiselectTitleLimit?i.length+t.set.multiselectTitleLimitText:i.join(t.set.delimiter),t.find("span").text(s),t.trigger("rekaf.selected",[i])):(t.find("span").text(i[0]),t.trigger("rekaf.selected",[i])):(t.find("span").text(t.find("span").data("orig-text")),t.trigger("rekaf.unselected",[i])),t.data("textList",i)},enableEvents:function(){var s=this;s.on("click","span",function(){s.hasClass("rekaf-opened")?t.closeList.apply(s):t.openList.apply(s)}),s.on("click","li",function(i){var n=e(this),l=s.data("textList")||[],a=n.hasClass("selected");if(n.find("a").length>0&&s.set.preventLinks&&i.preventDefault(),!(n.find("."+s.set.disabledClass).length>0||n.hasClass(s.set.disabledClass))){if(n.find(".remove").length>0&&s.removeClass("selected"),s.set.multiselect===!0){if(n.hasClass("clear-select"))s.find(".selected").removeClass("selected"),l=[],text="";else{if(n.hasClass("selected")){n.removeClass("selected");for(var d=0;d<l.length;d++)if(l[d]===n.text()){l.splice(d,1);break}}else n.addClass("selected"),l.push(n.text());text=l.length>s.set.multiselectTitleLimit?l.length+s.set.multiselectTitleLimitText:l.join(s.set.delimiter)}l.length>0?(s.addClass("selected").find("span").addClass("selected").text(text),s.trigger("rekaf.selected",[text])):(s.removeClass("selected").find("span").removeClass("selected").text(s.find("span").data("orig-text")),s.trigger("rekaf.unselected",[text]))}else l[0]=n.text(),s.find(".selected").removeClass("selected"),a&&s.set.clickRemoveSelected?(s.removeClass("selected").find("span").text(s.find("span").data("orig-text")),s.trigger("rekaf.unselected",[l])):(n.addClass("selected"),s.addClass("selected").find("span").text(l[0]),s.trigger("rekaf.selected",[l]));s.data("textList",l),t.closeList.apply(s)}}),e("#rekaf-screen").on("click",function(){t.closeList.apply(s)})}},s={init:function(s){var n=e.extend({},i,s),l="";if(n.debug===!0){if(0===this.length)return void console.warn("No objects found for $.rekaf >>> Maybe not generated from JS yet?");l="background-color: blue; "}return 0===e("#rekaf-screen").length&&e("body").prepend('<div id="rekaf-screen" style="position: fixed; top: 0; left: 0; '+l+"width: 100%; height: 2000px; z-index: "+(n.zIndex+1)+'; display: none;"></div>'),this.each(function(){var s=e(this),i=s.data();s.set=e.extend({},n,i),s.set.debug===!0&&(console.warn(":::: YS Filter Debug has been set to true ::::"),console.log("Options -> ",s.set)),s.css({"z-index":s.set.zIndex,position:"relative"}),s.set.rekafIntiated?s.set.debug===!0&&console.warn(":::: You are re-running REKAF!!! It is only intended to be run once, try update. ::::"):t.init.apply(s),s.set.rekafIntiated=!0,s.data(s.set)})},open:function(s){var n=e.extend({},i,s);return this.each(function(){var s=e(this),i=s.data();s.set=e.extend({},n,i),t.openList.apply(s)})},update:function(s){var n=e.extend({},i,s);return this.each(function(){var s=e(this),i=s.data();s.set=e.extend({},n,i),t.updateList.apply(s)})}},i={zIndex:1500,mulitselect:!1,clickRemoveSelected:!1,disabledClass:"disabled",multiselectTitleLimit:4,multiselectTitleLimitText:" items selected",delimiter:", ",preventLinks:!0,debug:!1};e.fn.rekaf=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.rekaf"):s.init.apply(this,arguments)}}(jQuery,window);