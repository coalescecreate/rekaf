/**
 * ys-rekaf - Rekaf a fake select element
 * @version v0.7.4
 * @link http://youngskilled.com
 * @author richard@youngskilled.com Young/Skilled
 * @license MIT
 */
!function(e){var t={init:function(){var e=this;t.enableEvents.apply(e),t.checkInputs.apply(e)},checkInputs:function(){var t=this,s=t.find("input:checked"),i=t.find("input:disabled"),l=s.closest("li"),a="";s.length>0&&(a=l.text(),""===a&&void 0!==l.attr("title")&&(a=l.attr("title")),t.find("."+t.set.selectedClass).removeClass(t.set.selectedClass),l.addClass(t.set.selectedClass),t.addClass(t.set.selectedClass).find("span").first().text(a),t.trigger("rekaf.selected",[a])),i.length>0&&i.each(function(){e(this).closest("li").addClass("disabled")})},openList:function(){var t=this;t.addClass("rekaf-opened").css("z-index",t.set.zIndex+2).find("ul").show(),e("#rekaf-screen").show()},closeList:function(){var t=this;e(".rekaf-opened").removeClass("rekaf-opened").css("z-index",t.set.zIndex).find("ul").hide(),e("#rekaf-screen").hide()},updateList:function(){var t=this,s="",i=t.data("textList")||[];t.find("li").each(function(){var s=e(this).text(),l=null;""===s&&void 0!==e(this).attr("title")&&(s=e(this).attr("title"));for(var a=0;a<i.length;a++)if(s===i[a]){l=a;break}e(this).hasClass(t.set.selectedClass)?null===l&&(t.set.debug===!0&&console.log("textList, currentItem, inListAtIndex push item",i,s,l),i.push(s)):null!==l&&(t.set.debug===!0&&console.log("textList, currentItem, inListAtIndex splice item",i,s,l),i.splice(l,1))}),i.length>0?t.set.multiselect?(s=i.length>t.set.multiselectTitleLimit?i.length+t.set.multiselectTitleLimitText:i.join(t.set.delimiter),t.find("span").first().text(s),t.trigger("rekaf.selected",[i])):(t.find("span").first().text(i[0]),t.trigger("rekaf.selected",[i])):(t.find("span").first().text(t.find("span").first().data("orig-text")),t.trigger("rekaf.unselected",[i])),t.data("textList",i)},resetList:function(){var e=this,s="";e.find("."+e.set.selectedClass).removeClass(e.set.selectedClass),e.removeClass(e.set.selectedClass).find("span").first().removeClass(e.set.selectedClass).text(e.find("span").first().data("orig-text")),e.trigger("rekaf.unselected",[s]),e.data("textList",[]),t.closeList.apply(e)},enableEvents:function(){var s=this;s.on("click","span",function(){s.hasClass("rekaf-opened")?t.closeList.apply(s):t.openList.apply(s)}),s.on("rekaf.resetSelect",function(){t.resetList.apply(s)}),s.on("click","li",function(i){var l=e(this),a=s.data("textList")||[],n=l.hasClass(s.set.selectedClass),d=l.text();if(""===d&&void 0!==l.attr("title")&&(d=l.attr("title")),l.find("a").length>0&&s.set.preventLinks&&i.preventDefault(),!(l.find("."+s.set.disabledClass).length>0||l.hasClass(s.set.disabledClass))){if(l.find(".remove").length>0&&s.removeClass(s.set.selectedClass),s.set.multiselect===!0){if(l.hasClass("clear-select")||l.find(".remove").length>0)s.find("."+s.set.selectedClass).removeClass(s.set.selectedClass),a=[],text="";else{if(l.hasClass(s.set.selectedClass)){l.removeClass(s.set.selectedClass);for(var r=0;r<a.length;r++)if(a[r]===d){a.splice(r,1);break}}else l.addClass(s.set.selectedClass),a.push(d);text=a.length>s.set.multiselectTitleLimit?a.length+s.set.multiselectTitleLimitText:a.join(s.set.delimiter)}a.length>0?(s.addClass(s.set.selectedClass).find("span").first().addClass(s.set.selectedClass).text(text),s.trigger("rekaf.selected",[text])):(s.removeClass(s.set.selectedClass).find("span").first().removeClass(s.set.selectedClass).text(s.find("span").first().data("orig-text")),s.trigger("rekaf.unselected",[text]))}else a[0]=d,s.find("."+s.set.selectedClass).removeClass(s.set.selectedClass),n&&s.set.clickRemoveSelected?(s.removeClass(s.set.selectedClass).find("span").first().text(s.find("span").first().data("orig-text")),s.trigger("rekaf.unselected",[a])):(l.addClass(s.set.selectedClass),s.addClass(s.set.selectedClass).find("span").first().text(a[0]),s.trigger("rekaf.selected",[a]));s.data("textList",a),t.closeList.apply(s)}}),e("#rekaf-screen").on("click",function(){t.closeList.apply(s)})}},s={init:function(s){var l=e.extend({},i,s),a="";if(l.debug===!0){if(0===this.length)return void console.warn("No objects found for $.rekaf >>> Maybe not generated from JS yet?");a="background-color: blue; "}return 0===e("#rekaf-screen").length&&e("body").prepend('<div id="rekaf-screen" style="position: fixed; top: 0; left: 0; '+a+"width: 100%; height: 2000px; z-index: "+(l.zIndex+1)+'; display: none;"></div>'),this.each(function(){var s=e(this),i=s.data();s.set=e.extend({},l,i),s.set.debug===!0&&(console.warn(":::: YS Filter Debug has been set to true ::::"),console.log("Options -> ",s.set)),s.css({"z-index":s.set.zIndex,position:"relative"}),s.set.rekafIntiated?s.set.debug===!0&&console.warn(":::: You are re-running REKAF!!! It is only intended to be run once, try update. ::::"):t.init.apply(s),s.set.rekafIntiated=!0,s.data(s.set)})},open:function(s){var l=e.extend({},i,s);return this.each(function(){var s=e(this),i=s.data();s.set=e.extend({},l,i),t.openList.apply(s)})},update:function(s){var l=e.extend({},i,s);return this.each(function(){var s=e(this),i=s.data();s.set=e.extend({},l,i),t.updateList.apply(s)})},reset:function(s){var l=e.extend({},i,s);return this.each(function(){var s=e(this),i=s.data();s.set=e.extend({},l,i),t.resetList.apply(s)})}},i={zIndex:1500,mulitselect:!1,clickRemoveSelected:!1,disabledClass:"disabled",selectedClass:"selected",multiselectTitleLimit:4,multiselectTitleLimitText:" items selected",delimiter:", ",preventLinks:!0,debug:!1};e.fn.rekaf=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.rekaf"):s.init.apply(this,arguments)}}(jQuery,window);